var yaPresentation=function(a,b){if(!a)return null;if(yaPresentation._isNodeList(a)){for(var c=0;c<a.length;c++)yaPresentation(a[c]);return null}var d=a.children,e={animation:"fade",duration:500,texts:["< Пред","След >","На весь экран"],clickToNext:!0,controls:!1,fullscreenControl:!1};b=yaPresentation._extend(e,b),yaPresentation._DOMManager.setInitialStyles(a,d),yaPresentation._DOMManager.setAnimationClass(a,b.animation);var f={_options:b,_el:a,_children:d,_inProgress:!1,_setInProgress:function(){return this._inProgress?!1:this._inProgress=!0},_resetInProgress:function(){var a=this;setTimeout(function(){a._inProgress=!1},a._options.duration)},setOptions:function(a){this.options=yaPresentation._extend(this._options,a),yaPresentation._DOMManager.setAnimationClass(this._el,this._options.animation)},goToPrevSlide:function(){this._setInProgress()&&(yaPresentation._moveManager.goToPrevSlide(d,this._options.duration),this._resetInProgress())},goToNextSlide:function(){this._inProgress||(this._inProgress=!0,yaPresentation._moveManager.goToNextSlide(d,this._options.duration),this._resetInProgress())},goToSlide:function(a){this._inProgress||(this._inProgress=!0,yaPresentation._moveManager.goToSlide(d,a,this._options.duration),this._resetInProgress())},goFullscreen:function(){yaPresentation._DOMManager.goFullscreen(a)},exitFullscreen:function(){yaPresentation._DOMManager.exitFullscreen(a)}};if(b.controls){var g=yaPresentation._DOMManager.addControls(a,b.texts);g[0].addEventListener("click",function(){f.goToPrevSlide()}),g[1].addEventListener("click",function(){f.goToNextSlide()})}return b.clickToNext&&a.addEventListener("click",function(){f.goToNextSlide()}),b.fullscreenControl&&yaPresentation._DOMManager.addFullscreenControl(a),f};"undefined"!=typeof jQuery&&(jQuery.fn.yaPresentation=function(a){return 1==this.length?yaPresentation(this[0],a):(this.each(function(){yaPresentation(this,a)}),this)}),yaPresentation._extend=function(a,b){a=a||{};for(var c in b)a[c]="object"==typeof b[c]?yaPresentation._extend(a[c],b[c]):b[c];return a},yaPresentation._extend(yaPresentation,{_vendors:["webkit","moz","ms","o"],_next:function(a,b){return a==b-1?0:a+1},_prev:function(a,b){return a?a-1:b-1},_getActive:function(a){for(var b=0;b<a.length;b++)if("hidden"!=a[b].style.visibility)return b;return 0},_isNodeList:function(a){return"number"==typeof a.length&&"function"==typeof a.item},_moveManager:{goToAdjacentSlide:function(a,b,c){var d=yaPresentation._getActive(a),e=b?"_prev":"_next";next=yaPresentation[e](d,a.length),yaPresentation._DOMManager.makeMove(a[d],a[next],c,b)},goToSlide:function(a,b,c){var d=yaPresentation._getActive(a);yaPresentation._DOMManager.makeMove(a[d],a[b],c)},goToPrevSlide:function(a,b){yaPresentation._moveManager.goToAdjacentSlide(a,!0,b)},goToNextSlide:function(a,b){yaPresentation._moveManager.goToAdjacentSlide(a,!1,b)}},_DOMManager:{setInitialStyles:function(a,b){a.style.overflow="hidden",a.style.position="relative",a.style.height=b[0].clientHeight+"px";for(var c=0;c<b.length;c++)b[c].style.top=0,b[c].style.left=0,b[c].style.width="100%",b[c].style.height="100%",b[c].style.position="absolute",b[c].style.boxSizing="border-box",b[c].style.mozBoxSizing="border-box",c&&(b[c].style.visibility="hidden")},makeMove:function(a,b,c,d){d=!!d,a.className+=" yap--toOut",b.className+=" yap--toIn",d&&(a.className+=" yap--prev",b.className+=" yap--prev"),b.style.visibility="",setTimeout(function(){a.className+=" yap--out",b.className+=" yap--in",yaPresentation._DOMManager.setTransition([a,b],c)},0),setTimeout(function(){b.className=b.className.replace(/\s?(yap--toIn|yap--in|yap--prev)/g,""),a.className=a.className.replace(/\s?(yap--toOut|yap--out|yap--prev)/g,""),a.style.visibility="hidden",yaPresentation._DOMManager.resetTransition([a,b])},c)},setTransition:function(a,b){for(var c=b?b+"ms":"",d=0;d<a.length;d++){for(var e=0;e<yaPresentation._vendors.length;e++)a[d].style[yaPresentation._vendors[e]+"transition"]=c;a[d].style.transition=c}},resetTransition:function(a){yaPresentation._DOMManager.setTransition(a,null)},setAnimationClass:function(a,b){a.className=a.className.replace(/\s*\byap--ef-.*?(\s|$)\b/,"$1")+" yap--ef-"+b},addControls:function(a,b){var c=document.createElement("div");c.className+="yap--control yap--control-prev",b&&b[0]&&(c.innerText=b[0]);var d=document.createElement("div");return d.className+="yap--control yap--control-next",b&&b[1]&&(d.innerText=b[1]),a.parentNode.insertBefore(c,a),a.parentNode.insertBefore(d,a),[c,d]},goFullscreen:function(a){a.className+="yap--fullscreen"},exitFullscreen:function(a){a.className=a.className.replace(/yap--fullscreen/g,"")},addFullscreenControl:function(a){var b=document.createElement("div");b.className+="yap--fullscreenControl",a.parentNode.insertBefore(b,a)}}});