var yaPresentation=function(a,b){function c(a){37==a.keyCode?g.goToPrevSlide():39==a.keyCode?g.goToNextSlide():27==a.keyCode&&g.exitFullscreen()}if(!a)return null;if(yaPresentation._isNodeList(a)){for(var d=0;d<a.length;d++)yaPresentation(a[d]);return null}var e=a.children;if(e.length<2)return null;var f={animation:"fade",duration:500,texts:["< Пред","След >","На весь экран"],clickToNext:!0,controls:!1,fullscreenControl:!1};b=yaPresentation._extend(f,b),yaPresentation._DOMManager.setInitialStyles(a,e),yaPresentation._DOMManager.setAnimationClass(a,b.animation);var g={_options:b,_el:a,_children:e,_inProgress:!1,_setInProgress:function(){return this._inProgress?!1:this._inProgress=!0},_resetInProgress:function(){var a=this;setTimeout(function(){a._inProgress=!1},a._options.duration)},setOptions:function(a){this.options=yaPresentation._extend(this._options,a),yaPresentation._DOMManager.setAnimationClass(this._el,this._options.animation)},goToPrevSlide:function(){this._setInProgress()&&(yaPresentation._moveManager.goToPrevSlide(e,this._options.duration),this._resetInProgress())},goToNextSlide:function(){this._inProgress||(this._inProgress=!0,yaPresentation._moveManager.goToNextSlide(e,this._options.duration),this._resetInProgress())},goToSlide:function(a){this._inProgress||(this._inProgress=!0,yaPresentation._moveManager.goToSlide(e,a,this._options.duration),this._resetInProgress())},goFullscreen:function(){document.addEventListener("keydown",c),yaPresentation._DOMManager.goFullscreen(a)},exitFullscreen:function(){document.removeEventListener("keydown",c),yaPresentation._DOMManager.exitFullscreen(a)},toggleFullscreen:function(){yaPresentation._DOMManager.toggleFullscreen(a)?document.addEventListener("keydown",c):document.removeEventListener("keydown",c)}};if(b.controls){var h=yaPresentation._DOMManager.addControls(a,b.texts);h[0].addEventListener("click",function(){g.goToPrevSlide()}),h[1].addEventListener("click",function(){g.goToNextSlide()})}if(b.clickToNext&&(a.style.cursor="pointer",a.addEventListener("click",function(){g.goToNextSlide()})),b.fullscreenControl){var i=yaPresentation._DOMManager.addFullscreenControl(a,b.texts);i.addEventListener("click",function(){g.toggleFullscreen()})}return g};"undefined"!=typeof jQuery&&(jQuery.fn.yaPresentation=function(a){return 1==this.length?yaPresentation(this[0],a):(this.each(function(){yaPresentation(this,a)}),this)}),yaPresentation._extend=function(a,b){a=a||{};for(var c in b)a[c]="object"==typeof b[c]?yaPresentation._extend(a[c],b[c]):b[c];return a},yaPresentation._extend(yaPresentation,{_vendors:["webkit","moz","ms","o"],_next:function(a,b){return a==b-1?0:a+1},_prev:function(a,b){return a?a-1:b-1},_getActive:function(a){for(var b=0;b<a.length;b++)if("hidden"!=a[b].style.visibility)return b;return 0},_isNodeList:function(a){return"number"==typeof a.length&&"function"==typeof a.item},_insertAfter:function(a,b){var c=b.parentNode;c.lastchild==b?c.appendChild(a):c.insertBefore(a,b.nextSibling)},_moveManager:{goToAdjacentSlide:function(a,b,c){var d=yaPresentation._getActive(a),e=b?"_prev":"_next";next=yaPresentation[e](d,a.length),yaPresentation._DOMManager.makeMove(a[d],a[next],c,b)},goToSlide:function(a,b,c){var d=yaPresentation._getActive(a);yaPresentation._DOMManager.makeMove(a[d],a[b],c)},goToPrevSlide:function(a,b){yaPresentation._moveManager.goToAdjacentSlide(a,!0,b)},goToNextSlide:function(a,b){yaPresentation._moveManager.goToAdjacentSlide(a,!1,b)}},_DOMManager:{setInitialStyles:function(a,b){a.style.overflow="hidden",a.style.position="relative",a.style.height=b[0].clientHeight+"px";for(var c=0;c<b.length;c++)b[c].style.top=0,b[c].style.left=0,b[c].style.width="100%",b[c].style.height="100%",b[c].style.position="absolute",b[c].style.boxSizing="border-box",b[c].style.mozBoxSizing="border-box",c&&(b[c].style.visibility="hidden")},makeMove:function(a,b,c,d){d=!!d,a.className+=" yap--toOut",b.className+=" yap--toIn",d&&(a.className+=" yap--prev",b.className+=" yap--prev"),b.style.visibility="",setTimeout(function(){a.className+=" yap--out",b.className+=" yap--in",yaPresentation._DOMManager.setTransition([a,b],c)},0),setTimeout(function(){b.className=b.className.replace(/\s?(yap--toIn|yap--in|yap--prev)/g,""),a.className=a.className.replace(/\s?(yap--toOut|yap--out|yap--prev)/g,""),a.style.visibility="hidden",yaPresentation._DOMManager.resetTransition([a,b])},c)},setTransition:function(a,b){for(var c=b?b+"ms":"",d=0;d<a.length;d++){for(var e=0;e<yaPresentation._vendors.length;e++)a[d].style[yaPresentation._vendors[e]+"transition"]=c;a[d].style.transition=c}},resetTransition:function(a){yaPresentation._DOMManager.setTransition(a,null)},setAnimationClass:function(a,b){a.className=a.className.replace(/\s*\byap--ef-\w+\b/g,"")+" yap--ef-"+b},addControls:function(a,b){var c=document.createElement("div");c.className+="yap--control yap--control-prev",b&&b[0]&&(c.innerText=b[0]);var d=document.createElement("div");return d.className+="yap--control yap--control-next",b&&b[1]&&(d.innerText=b[1]),yaPresentation._insertAfter(c,a),yaPresentation._insertAfter(d,a),[c,d]},goFullscreen:function(a){a.className+=" yap--fullscreen"},exitFullscreen:function(a){a.className=a.className.replace(/yap--fullscreen/g,"")},toggleFullscreen:function(a){return/\byap--fullscreen\b/.test(a.className)?(yaPresentation._DOMManager.exitFullscreen(a),!1):(yaPresentation._DOMManager.goFullscreen(a),!0)},addFullscreenControl:function(a,b){var c=document.createElement("div");return c.className+="yap--fullscreenControl",b&&b[2]&&(c.innerText=b[2]),yaPresentation._insertAfter(c,a),c}}});